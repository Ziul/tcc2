commit 00d92caea03a75194f9f4c9169645fa541764c90
Author: Luiz Oliveira <ziuloliveira@gmail.com>
Date:   Sun Aug 30 15:52:32 2015 -0300

    Included tests for search --order-by
    
    Signed-off-by: Luiz Oliveira <ziuloliveira@gmail.com>

diff --git a/test/integration/test-apt-cli-search b/test/integration/test-apt-cli-search
index e86661d..dc58175 100755
--- a/test/integration/test-apt-cli-search
+++ b/test/integration/test-apt-cli-search
@@ -15,11 +15,15 @@ fi
 
 DESCR='Some description that has a unusual word xxyyzz and aabbcc and a UPPERCASE'
 DESCR2='Some other description with the unusual aabbcc only'
+DESCR3='Some package description'
+DESCR4='an autogenerated dummy baz=0.1/installed'
 insertpackage 'unstable' 'foo' 'all' '1.0' '' '' "$DESCR
  Long description of stuff and such, with lines
  .
  and paragraphs and everything."
 insertpackage 'testing' 'bar' 'i386' '2.0' '' '' "$DESCR2"
+insertpackage 'stable' 'package' 'all' '1.5' '' '' "$DESCR3"
+insertinstalledpackage 'baz' 'all' '0.1'
 
 setupaptarchive
 
@@ -83,3 +87,61 @@ testsuccessequal "bar/testing 2.0 i386
 foo/unstable 1.0 all
   $DESCR
 " apt search -qq aabbcc
+
+# output is sorted in alphabetic reverse order
+testsuccessequal "package/stable 1.5 all
+  $DESCR3
+
+foo/unstable 1.0 all
+  $DESCR
+
+baz/now 0.1 all [installed,local]
+  $DESCR4
+
+bar/testing 2.0 i386
+  $DESCR2
+" apt search --order-by reverse -qq "\\w"
+
+# output is sorted by version
+testsuccessequal "bar/testing 2.0 i386
+  $DESCR2
+
+package/stable 1.5 all
+  $DESCR3
+
+foo/unstable 1.0 all
+  $DESCR
+
+baz/now 0.1 all [installed,local]
+  $DESCR4
+" apt search --order-by version -qq "\\w"
+
+# output is sorted by status
+testsuccessequal "bar/testing 2.0 i386
+  $DESCR2
+
+foo/unstable 1.0 all
+  $DESCR
+
+package/stable 1.5 all
+  $DESCR3
+
+baz/now 0.1 all [installed,local]
+  $DESCR4
+" apt search --order-by status -qq "\\w"
+
+# output is sorted by default
+testsuccessequal "bar/testing 2.0 i386
+  $DESCR2
+
+baz/now 0.1 all [installed,local]
+  $DESCR4
+" apt search --order-by some_strange_pattner -qq ba
+
+# output is sorted by Alphabetic (non case sense)
+testsuccessequal "bar/testing 2.0 i386
+  $DESCR2
+
+baz/now 0.1 all [installed,local]
+  $DESCR4
+" apt search --order-by Alphabetic -qq ba
\ No newline at end of file
