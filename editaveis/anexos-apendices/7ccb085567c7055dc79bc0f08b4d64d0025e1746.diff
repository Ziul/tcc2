commit 7ccb085567c7055dc79bc0f08b4d64d0025e1746
Author: Luiz Oliveira <ziuloliveira@gmail.com>
Date:   Sun Aug 30 14:12:54 2015 -0300

    Converted search container from map to string
    
    Signed-off-by: Luiz Oliveira <ziuloliveira@gmail.com>

diff --git a/apt-private/private-search.cc b/apt-private/private-search.cc
index 6bce9ff..9ba909b 100644
--- a/apt-private/private-search.cc
+++ b/apt-private/private-search.cc
@@ -16,11 +16,12 @@
 #include <apt-private/private-cacheset.h>
 #include <apt-private/private-output.h>
 #include <apt-private/private-search.h>
+#include <apt-private/private-package-info.h>
 
 #include <string.h>
 #include <iostream>
 #include <sstream>
-#include <map>
+#include <vector>
 #include <string>
 #include <utility>
 
@@ -58,7 +59,7 @@ bool FullTextSearch(CommandLine &CmdL)					/*{{{*/
 
    bool const NamesOnly = _config->FindB("APT::Cache::NamesOnly", false);
 
-   std::map<std::string, std::string> output_map;
+   std::vector<PackageInfo> outputVector;
 
    LocalitySortedVersionSet bag;
    OpTextProgress progress(*_config);
@@ -111,18 +112,16 @@ bool FullTextSearch(CommandLine &CmdL)					/*{{{*/
 	 PkgsDone[P->ID] = true;
 	 std::stringstream outs;
 	 ListSingleVersion(CacheFile, records, V, outs, format);
-	 output_map.insert(std::make_pair<std::string, std::string>(
-		  PkgName, outs.str()));
+	 PackageInfo pkg(CacheFile, records, V, outs.str());
+	 outputVector.push_back(pkg);
       }
    }
    APT_FREE_PATTERNS();
    progress.Done();
 
-   // FIXME: SORT! and make sorting flexible (alphabetic, by pkg status)
-   // output the sorted map
-   std::map<std::string, std::string>::const_iterator K;
-   for (K = output_map.begin(); K != output_map.end(); ++K)
-      std::cout << (*K).second << std::endl;
+	// output the sorted vector
+	for(auto k:outputVector)
+		std::cout << k.formated_output() << std::endl;
 
    return true;
 }
