commit d28b12e051d544259671adca45cb753fe06c6067
Author: Luiz Oliveira <ziuloliveira@gmail.com>
Date:   Sun Aug 30 15:41:57 2015 -0300

    Included flags to sort vector
    
    Signed-off-by: Luiz Oliveira <ziuloliveira@gmail.com>

diff --git a/apt-private/private-cmndline.cc b/apt-private/private-cmndline.cc
index 1072b9a..aa85627 100644
--- a/apt-private/private-cmndline.cc
+++ b/apt-private/private-cmndline.cc
@@ -57,6 +57,7 @@ static bool addArgumentsAPTCache(std::vector<CommandLine::Args> &Args, char cons
    {
       addArg('n', "names-only", "APT::Cache::NamesOnly", 0);
       addArg('f', "full", "APT::Cache::ShowFull", 0);
+      addArg(0, "order-by", "APT::Cache::OrderBy", 1);
    }
    else if (CmdMatches("show"))
    {
diff --git a/apt-private/private-package-info.cc b/apt-private/private-package-info.cc
index d08db4b..66600e4 100644
--- a/apt-private/private-package-info.cc
+++ b/apt-private/private-package-info.cc
@@ -23,6 +23,8 @@
 #include <iostream>
 #include <sstream>
 #include <langinfo.h>
+#include <cctype>
+#include <algorithm>
 #include <unistd.h>
 #include <signal.h>
 #include <sys/ioctl.h>
@@ -88,6 +90,18 @@ PackageInfo::GetPackageStatus(pkgCacheFile &CacheFile,
                   /*}}}*/
 
 
+PackageInfo::SortBy 
+hashit (string inString)
+{
+   std::transform(inString.begin(), inString.end(), inString.begin(), ::tolower);
+   if (inString == "alphabetic") return PackageInfo::ALPHABETIC;
+   else if (inString == "reverse") return PackageInfo::REVERSEALPHABETIC;
+   else if (inString == "reverse alphabetic") return PackageInfo::REVERSEALPHABETIC;
+   else if (inString == "version") return PackageInfo::VERSION;
+   else if (inString == "status") return PackageInfo::STATUS;
+   return PackageInfo::ALPHABETIC;
+}
+
 bool OrderByStatus (const PackageInfo &a, const PackageInfo &b)
 {
    if(a.status() == b.status())
diff --git a/apt-private/private-package-info.h b/apt-private/private-package-info.h
index 1adc7b8..8c60d13 100644
--- a/apt-private/private-package-info.h
+++ b/apt-private/private-package-info.h
@@ -16,6 +16,13 @@ public:
         RESIDUAL_CONFIG
     } PackageStatus;
 
+    typedef enum{
+        ALPHABETIC,
+        REVERSEALPHABETIC,
+        STATUS,
+        VERSION
+    } SortBy;
+
     PackageInfo(pkgCacheFile &CacheFile, pkgRecords &records,
                        pkgCache::VerIterator const &V, std::string formated_output="");
 
@@ -39,6 +46,7 @@ private:
     PackageStatus GetPackageStatus(pkgCacheFile &CacheFile, pkgCache::VerIterator const &V);
 };
 
+PackageInfo::SortBy hashit (std::string inString);
 //Sort kinds
 bool OrderByStatus (const PackageInfo &a, const PackageInfo &b);
 bool OrderByVersion (const PackageInfo &a, const PackageInfo &b);
diff --git a/apt-private/private-search.cc b/apt-private/private-search.cc
index 9ba909b..199a03b 100644
--- a/apt-private/private-search.cc
+++ b/apt-private/private-search.cc
@@ -116,12 +116,28 @@ bool FullTextSearch(CommandLine &CmdL)					/*{{{*/
 	 outputVector.push_back(pkg);
       }
    }
+   switch(hashit(_config->Find("APT::Cache::OrderBy","Alphabetic")))
+   {
+      case PackageInfo::REVERSEALPHABETIC:
+         std::sort(outputVector.begin(), outputVector.end(), OrderByReverseAlphabetic);
+         break;
+      case PackageInfo::STATUS:
+         std::sort(outputVector.begin(), outputVector.end(), OrderByStatus);
+         break;
+      case PackageInfo::VERSION:
+         std::sort(outputVector.begin(), outputVector.end(), OrderByVersion);
+         break;
+      default:
+         std::sort(outputVector.begin(), outputVector.end(), OrderByAlphabetic);
+         break;
+   }
    APT_FREE_PATTERNS();
    progress.Done();
 
-	// output the sorted vector
-	for(auto k:outputVector)
-		std::cout << k.formated_output() << std::endl;
+   // output the sorted vector
+   for(auto k:outputVector)
+      std::cout << k.formated_output() << std::endl;
+
 
    return true;
 }
